# "风物舆图"特产导览平台 - 需求设计文档 (V1.0 基于原型)

## 1. 引言

### 1.1 项目背景
随着人们对地域文化和特色产品的兴趣日益浓厚，"风物舆图"项目旨在打造一个便捷、全面的中国特产导览平台。通过此平台，用户可以探索、发现、了解并分享中国各地的特色产品与地域文化。

### 1.2 目标用户
*   对中国各地特产感兴趣的旅行者。
*   希望了解家乡或异地特色文化的本地居民与特产爱好者。
*   需要查询特定地域特产信息的个人或商家。

### 1.3 文档目的
本文档旨在根据已有的HTML原型设计，梳理和明确"风物舆图"平台的主要功能需求、非功能需求以及初步的数据模型，为后续的产品迭代和开发工作提供参考依据。

## 2. 总体设计

### 2.1 设计理念
*   **内容丰富性**: 覆盖全国各地的特产信息，提供详尽的介绍。
*   **易用性**: 界面直观，操作便捷，符合移动端用户习惯。
*   **个性化**: 提供收藏、足迹等功能，满足用户的个性化需求。
*   **探索性**: 通过地图、榜单、推荐等多种方式引导用户发现。

### 2.2 特产分类体系
平台采用13种特产分类，每种分类配有独特的图标和颜色标识：

| 分类 | 图标 | 颜色代码 | 应用场景 |
|------|------|---------|---------|
| 主食 | fa-bowl-rice | #F7C873 | 米面、主食类特产 |
| 副食 | fa-jar | #9B59B6 | 肉类、调味品、酱料等 |
| 小吃 | fa-cookie | #58D68D | 地方小吃、零食 |
| 零食 | fa-candy-bar | #E74C3C | 休闲食品、糖果等 |
| 烟酒 | fa-wine-bottle | #7F8C8D | 地方名烟名酒 |
| 茶叶 | fa-mug-hot | #1ABC9C | 各地特色茶叶 |
| 饮料 | fa-glass | #3498DB | 地方特色饮品 |
| 水果 | fa-apple-whole | #2ECC71 | 地方水果特产 |
| 蔬菜 | fa-carrot | #16A085 | 地方特色蔬菜 |
| 水产海鲜 | fa-fish | #0E6EAE | 海产品、河鲜等 |
| 工艺品 | fa-scissors | #8E44AD | 手工艺品、纪念品等 |
| 药材 | fa-mortar-pestle | #D35400 | 地方药材、中药材 |
| 花卉 | fa-seedling | #27AE60 | 特色花卉植物 |

这些分类将在产品的筛选、标签、图标展示等多个场景中使用，保持统一的视觉风格和用户体验。

### 2.3 主要信息架构 (基于现有原型)
风物舆图App
├── 首页 (index.html)
│ ├── 热门目的地 -> 热门目的地列表页 (hot-destinations.html) / 地图特产页 (map-specialty.html)
│ ├── 特产分类 -> 地图特产 (map-specialty.html)
│ └── 推荐特产 -> 特产详情页 (detail.html)
├── 地图特产 (map-specialty.html) - [需补充原型详情]
│ └── 特产详情页 (detail.html)
├── 特产榜单 (ranking.html) - [需补充原型详情]
│ └── 特产详情页 (detail.html)
├── 热门目的地 (hot-destinations.html)
│ └── 地图特产页 (map-specialty.html)
├── 搜索页 (search.html) - [需补充原型详情]
│ └── 特产详情页 (detail.html)
├── 用户中心 (profile.html) - [需补充原型详情]
│ ├── 我的收藏 (collections.html)
│ │ └── 特产详情页 (detail.html)
│ ├── 我的足迹 (footprints.html)
│ │ └── 特产详情页 (detail.html)
│ └── 关于我们 (about.html)
└── 特产详情 (detail.html)


## 3. 功能需求详述

### 3.1 核心模块

#### 3.1.1 首页 (`index.html`)
*   **功能描述**: 应用的核心入口，提供快速访问主要功能和内容的通道。
*   **主要元素与交互**:
    1.  **顶部固定区域**:
        *   **标题**: "风物舆图"。
        *   **搜索栏**:
            *   占位提示文字："搜索地方特产..."。
            *   点击后应跳转至搜索页 (`search.html`)或激活搜索功能。
    2.  **热门目的地**:
        *   标题及"查看全部"链接 (指向 `hot-destinations.html`)。
        *   横向滚动卡片列表展示热门省份/城市。
        *   每个卡片包含背景图和目的地名称。
        *   点击省份卡片跳转至对应的地图特产页 (如 `map-specialty.html?province=hubei`)。
        *   最后一个卡片为"更多地区"，点击跳转至 `map-specialty.html` (推测为全国地图或更完整的地区选择列表)。
    3.  **特产分类**:
        *   标题及"查看全部"链接 (指向 `category.html` - **此文件目前缺失，需补充设计**)。
        *   宫格布局（3列）展示主要特产分类（包括主食、副食、小吃、茶叶、水果、蔬菜、工艺品、药材等）。
        *   每个分类包含图标和名称。
        *   点击分类应跳转至该分类下的特产列表页或筛选结果页。
        *   最后一个卡片为"更多分类"，点击行为同"查看全部"。
    4.  **推荐特产**:
        *   标题及"查看更多"链接 (指向 `map-specialty.html`，推测为更广泛的特产列表)。
        *   纵向列表展示推荐的特产。
        *   每个特产卡片包含：特产图片、特产名称、分类标签（如"主食"、"工艺品"、"水果"等）、简短描述、产地信息（省份·城市）。
        *   点击特产卡片跳转至对应的特产详情页 (`detail.html?id=xxx`)。
    5.  **底部导航栏**:
        *   固定在页面底部。
        *   包含四个标签入口：
            *   **首页**: 当前页面，高亮显示。
            *   **地图**: 图标及文字"地图"，链接至 `map-specialty.html`。
            *   **榜单**: 图标及文字"榜单"，链接至 `ranking.html`。
            *   **我的**: 图标及文字"我的"，链接至 `profile.html`。

#### 3.1.2 地图特产 (`map-specialty.html`) - [需补充原型详情]
*   **功能描述**: (推测) 通过地理地图或行政区域列表结合的方式，展示特定区域或分类下的特产信息。用户可以通过地图交互或列表筛选来发现特产。
*   **预期主要元素与交互**:
    *   地图展示区域。
    *   区域/省份/城市选择器。
    *   特产分类筛选器（覆盖13种特产分类）。
    *   特产列表展示（可随地图区域或筛选条件变化）。
    *   特产标记点，点击可查看简要信息或跳转详情。

#### 3.1.3 特产详情 (`detail.html`)
*   **功能描述**: 全面展示单个特产的详细信息。
*   **主要元素与交互**:
    1.  **顶部固定导航栏**:
        *   返回按钮 (返回上一页)。
        *   页面标题："特产详情"。
    2.  **图片轮播区**:
        *   展示特产的多张高清图片，支持手势滑动切换。
        *   包含轮播指示器 (小圆点)。
        *   右上角设有分享按钮（点击后应弹出分享选项）。
    3.  **基本信息区**:
        *   特产名称。
        *   产地信息 (省份·城市)。
        *   浏览量。
    4.  **标签区**:
        *   动态展示多个标签，如：
            *   **分类标签**: (如"主食"、"工艺品"等，带特定背景色和图标)。
            *   **荣誉标签**: (如"全国名特优新农产品"，带特定背景色和图标)。
            *   **自定义标签**: (如有，也应醒目展示)。
    5.  **特产描述**:
        *   一段关于特产的详细文字介绍。
    6.  **模块化信息展示**:
        *   **基本信息模块**:
            *   图标+文字标题"基本信息"。
            *   列表形式展示：分类、产地、荣誉、标签等。
        *   **详细描述模块** (或其他如"使用方法"、"产地环境"等，根据`specialty.content`动态生成标题和内容):
            *   图标+文字标题。
            *   详细的段落文字，支持换行。
        *   **产地位置模块**:
            *   图标+文字标题"产地位置"。
            *   集成地图展示 (原型中使用高德地图API)，在地图上标记特产产地。
            *   标记点可点击显示信息窗体（包含特产名称和地址）。
            *   地图下方显示详细的文字地址。
    7.  **相关特产推荐**:
        *   图标+文字标题"相关特产"。
        *   横向滚动卡片列表展示与当前特产相关的其他特产。
        *   每个卡片包含图片、名称、产地。
        *   点击卡片跳转至对应特产的详情页。
    8.  **底部导航栏**: 同首页。

#### 3.1.4 特产榜单 (`ranking.html`) - [需补充原型详情]
*   **功能描述**: (推测) 展示不同维度（如热度、好评、销量、时令等）的特产排行榜，帮助用户发现热门或优质特产。
*   **预期主要元素与交互**:
    *   榜单类型切换 (如Tab栏)。
    *   特产列表展示，包含排名、图片、名称、热度/评分等信息。
    *   点击特产可跳转至详情页。

#### 3.1.5 热门目的地 (`hot-destinations.html`)
*   **功能描述**: 集中展示和筛选全国热门的旅游目的地（省份和城市），并显示其特产概况。
*   **主要元素与交互**:
    1.  **顶部固定区域**:
        *   返回按钮 (返回首页)。
        *   页面标题："热门目的地"。
        *   搜索栏: 占位提示"搜索目的地..."。
    2.  **区域筛选**:
        *   横向滚动标签列表，包含"全部"及各大区域（华东、华南、华中、华北、西南、西北、东北）。
        *   点击标签可筛选下方省份列表。
    3.  **省份/城市切换Tab**:
        *   提供"省份"和"城市"两个Tab，用于切换下方内容的展示模式。
        *   默认激活"城市"Tab。
    4.  **省份展示区** (当"省份"Tab激活时):
        *   标题根据筛选区域变化（如"全部省份"、"华东省份"）。
        *   网格布局（2列）展示省份卡片。
        *   每个省份卡片包含背景图、省份名称、特产数量统计。
        *   `data-region`属性用于JS筛选。
        *   点击卡片跳转至对应省份的地图特产页 (`map-specialty.html?province=xxx`)。
    5.  **城市展示区** (当"城市"Tab激活时):
        *   标题"城市特产"。
        *   纵向列表展示城市卡片。
        *   每个城市卡片包含：城市图片、城市名称、所属省份、特产数量统计（并有指示箭头，推测可点击查看该城市特产列表）、城市特色标签（如"工艺品"、"茶叶"等）。

#### 3.1.6 搜索 (`search.html`) - [需补充原型详情]
*   **功能描述**: (推测) 提供特产和目的地的搜索功能。
*   **预期主要元素与交互**:
    *   搜索输入框。
    *   历史搜索记录。
    *   热门搜索推荐。
    *   搜索结果列表（区分特产和目的地）。
    *   点击搜索结果跳转至对应详情页或地图特产页。

#### 3.1.7 用户中心 (`profile.html`) - [需补充原型详情]
*   **功能描述**: (推测) 用户个人信息管理和各项个性化功能的入口。
*   **预期主要元素与交互**:
    *   用户头像、昵称等基本信息展示。
    *   功能入口列表，至少应包含：
        *   我的收藏 (指向 `collections.html`)
        *   我的足迹 (指向 `footprints.html`)
        *   设置 (如账号安全、通知设置等)
        *   关于我们 (指向 `about.html`)
    *   (可能还包含：我的订单、优惠券、帮助与反馈等)

##### 3.1.7.1 我的收藏 (`collections.html`)
*   **功能描述**: 展示和管理用户收藏的特产。
*   **主要元素与交互**:
    1.  **顶部导航栏**: 返回按钮、页面标题"我的收藏"。
    2.  **视图模式切换**:
        *   包含"列表"和"网格"两个按钮，用于切换下方收藏内容的展示方式。
        *   默认激活"列表"视图。
    3.  **特产分类筛选**:
        *   标题"特产分类"。
        *   标签式按钮列表，包含"全部"及13种特产分类（主食、副食、小吃、零食、烟酒、茶叶、饮料、水果、蔬菜、水产海鲜、工艺品、药材、花卉）。
        *   点击分类标签可筛选当前视图下的收藏内容。
        *   `data-category`属性用于JS筛选。
    4.  **列表视图**:
        *   每个收藏项为一张卡片，包含：
            *   特产大图。
            *   右上角有"收藏"（已激活状态）和"分享"操作按钮。
            *   特产名称、产地。
            *   分类标签。
            *   简短描述。
            *   浏览量信息、查看详情按钮。
            *   点击"查看详情"或卡片主体应跳转至特产详情页。
    5.  **网格视图**:
        *   更紧凑的卡片布局（如2列）。
        *   每个收藏项包含：特产图片、右上角"收藏"按钮（已激活）、特产名称、产地、分类标签。
        *   点击卡片应跳转至特产详情页。
    6.  **空状态处理**:
        *   当没有收藏内容或筛选结果为空时，显示提示信息（图标、文字"暂无收藏内容"/"没有找到xx类特产"、引导按钮"去发现特产"）。

##### 3.1.7.2 我的足迹 (`footprints.html`)
*   **功能描述**: 记录和展示用户最近浏览过的特产。
*   **主要元素与交互**:
    1.  **顶部导航栏**: 返回按钮、页面标题"我的足迹"。
    2.  **视图模式切换Tab**:
        *   包含"列表"、"时间轴"、"地图"三个Tab，用于切换足迹的展示方式。
        *   默认激活"列表"视图。
    3.  **特产分类筛选**: 同"我的收藏"页。
    4.  **列表视图**:
        *   每个足迹项为一张卡片，包含：特产图片、浏览时间（如"今天 10:30"）、特产名称、产地、分类标签、简短描述。
        *   点击卡片应跳转至特产详情页。
    5.  **时间轴视图**:
        *   按日期分组（如"今天"、"昨天"、"3天前"）。
        *   每个日期分组下罗列足迹卡片，样式同列表视图。
    6.  **地图视图**:
        *   顶部为一个模拟地图区域，用图片背景和省份简称文字标记点（如"川"、"苏"）。
        *   地图下方为"我的足迹列表"，每个足迹项包含：小图、名称、浏览时间、产地、分类标签。
        *   点击列表项应跳转至特产详情页。
        *   **注意**: 此处地图为静态模拟，实际开发中可考虑集成真实地图API，根据足迹的地理位置进行标记。
    7.  **空状态处理**: 同"我的收藏"页，提示文字相应调整。

##### 3.1.7.3 关于我们 (`about.html`)
*   **功能描述**: 提供应用的相关信息，如愿景、特色、联系方式等。
*   **主要元素与交互**:
    1.  **顶部导航栏**: 返回按钮、页面标题"关于我们"。
    2.  **应用信息**: Logo、名称"风物舆图"、副标题"中国特产导览平台"、版本号。
    3.  **模块化内容**:
        *   **我们的愿景**: 文字描述。
        *   **核心特色**: 图标+标题+描述列表（特产地图、特产分类、足迹记录、个人收藏）。
        *   **联系我们**: 图标+标题+内容列表（邮箱、微信公众号、地址）。
    4.  **版权信息**: 页脚文字。

### 3.2 通用功能

#### 3.2.1 导航系统
*   **顶部导航**: 在多数二级页面提供返回功能和当前页面标题。
*   **底部主导航**: 在核心一级页面（首页、地图、榜单、我的）提供快速切换入口。

#### 3.2.2 筛选与排序
*   **分类筛选**: 在"我的收藏"、"我的足迹"页面，提供按13种特产分类筛选的功能。
*   **区域筛选**: 在"热门目的地"页面，提供按地理大区筛选省份的功能。
*   **(推测)** 榜单页、地图特产页、搜索结果页也可能需要排序和更复杂的筛选功能。

#### 3.2.3 用户反馈与交互
*   **点击跳转**: 各列表项、卡片、按钮等均提供明确的点击反馈和跳转逻辑。
*   **滑动**: 图片轮播、横向滚动列表支持滑动操作。
*   **收藏/取消收藏**: 在特产详情页（推测应有）、收藏列表和网格视图中提供收藏操作。
*   **分享**: 在特产详情页提供分享功能。

#### 3.2.4 空状态与加载提示
*   **空状态**: 在"我的收藏"、"我的足迹"等列表可能为空的页面，提供友好的空状态提示和操作引导。
*   **(推测)** 各列表加载数据时应有加载中提示。

## 4. 非功能需求

### 4.1 用户体验 (UX)
*   **界面**: 整体风格应统一，简洁美观，色彩运用参考品牌色（红色系渐变）。
*   **交互**: 遵循移动端设计规范，手势操作自然流畅。
*   **信息架构**: 清晰易懂，用户能快速找到所需信息。
*   **可访问性**: (原型中未体现，但建议考虑) 字体大小、颜色对比度等。

### 4.2 性能
*   **加载速度**: 页面及图片资源加载快速，避免长时间等待。
*   **响应速度**: 用户操作应得到及时反馈。
*   **流畅性**: 列表滚动、动画效果等应流畅不卡顿。

### 4.3 兼容性
*   **设备**: 主要针对移动端设备，原型设计最大宽度为390px。
*   **浏览器**: 兼容主流移动端浏览器 (iOS Safari, Android Chrome等)。

## 5. 数据模型 (初步)

### 5.1 特产 (Specialty)
*   `id`: 唯一标识符 (String)
*   `name`: 名称 (String)
*   `province`: 所属省份 (String)
*   `city`: (可选) 所属城市 (String)
*   `category`: 分类名称 (String, 如: "副食", "主食", "工艺品")
*   `description`: 详细描述 (String)
*   `image`: 主图URL (String)
*   `images`: 图片轮播URL列表 (Array of Strings)
*   `location`: 地理位置对象
    *   `lng`: 经度 (Number)
    *   `lat`: 纬度 (Number)
    *   `address`: 详细地址 (String)
*   `viewCount`: 浏览量 (String, 如: "8.5万")
*   `honors`: 荣誉列表 (Array of Strings, 如: ["全国名特优新农产品"])
*   `tags`: 自定义标签列表 (Array of Strings)
*   `content`: 详细内容/使用方法/产地环境等 (String, 支持换行)
*   `related`: 相关特产ID列表 (Array of Strings)

### 5.2 用户 (User)
*   `userId`: 唯一标识符
*   `nickname`: 昵称
*   `avatarUrl`: 头像URL
*   `collections`: 收藏的特产ID列表 (Array of Strings)
*   `footprints`: 足迹列表 (Array of Objects: `{ specialtyId: String, viewTime: Timestamp }`)

### 5.3 目的地 (Destination)
*   `id`: 唯一标识符 (如省份/城市名)
*   `name`: 名称 (String)
*   `type`: 类型 ("province" / "city")
*   `region`: 所属大区 (String, 如: "华东", "华南")
*   `imageUrl`: 展示图片URL (String)
*   `specialtyCount`: 特产数量 (Number)
*   `parentProvince`: (仅城市类型) 所属省份名称 (String)
*   `featureTags`: (仅城市类型) 城市特色标签列表 (Array of Strings)

### 5.4 分类 (Category)
*   `categoryCode`: 分类代码 (String, 如: "food", "material" - 原型JS中曾出现此类定义)
*   `categoryName`: 分类中文名 (String)
*   `iconClass`: FontAwesome图标类名 (String)
*   `color`: 标签背景色 (String)

特产分类详细定义：
* 主食：图标 fa-bowl-rice，颜色 #F7C873
* 副食：图标 fa-jar，颜色 #9B59B6
* 小吃：图标 fa-cookie，颜色 #58D68D
* 零食：图标 fa-candy-bar，颜色 #E74C3C
* 烟酒：图标 fa-wine-bottle，颜色 #7F8C8D
* 茶叶：图标 fa-mug-hot，颜色 #1ABC9C
* 饮料：图标 fa-glass，颜色 #3498DB
* 水果：图标 fa-apple-whole，颜色 #2ECC71
* 蔬菜：图标 fa-carrot，颜色 #16A085
* 水产海鲜：图标 fa-fish，颜色 #0E6EAE
* 工艺品：图标 fa-scissors，颜色 #8E44AD
* 药材：图标 fa-mortar-pestle，颜色 #D35400
* 花卉：图标 fa-seedling，颜色 #27AE60

## 6. 待明确 / 需进一步设计

*   **`map-specialty.html` (地图特产页)**: 需要详细的原型或功能描述。
*   **`ranking.html` (特产榜单页)**: 需要详细的原型或功能描述。
*   **`search.html` (搜索页)**: 需要详细的原型或功能描述及搜索逻辑。
*   **`profile.html` (用户中心页)**: 需要详细的原型或功能描述。
*   **`category.html` (特产分类详情页)**: 首页有链接指向此文件，但文件缺失，需补充设计，用于展示特定分类下的所有特产。
*   **用户认证与登录/注册流程**: 原型中未体现。
*   **数据来源与更新机制**: 如何获取和维护大量的特产数据。
*   **分享功能的具体实现**: 分享到哪些平台，分享内容的格式。
*   **地图交互细节**: `map-specialty.html` 和 `footprints.html` 地图视图的真实交互方式。
*   **收藏与足迹的后端同步**: 原型中JS为前端模拟，实际需要后端支持。
*   **错误处理与异常提示**: 如网络错误、数据加载失败等。
*   **编辑与管理功能**: (后台) 如何添加、修改、删除特产信息。

---
